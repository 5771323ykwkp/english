{"version":3,"sources":["uni-app:///main.js",null,"webpack:///D:/创业/0211/微信小程序的英语学习激励系统/ssm65k27/src/main/webapp/front/pages/kanwu/list.vue?8d17","webpack:///D:/创业/0211/微信小程序的英语学习激励系统/ssm65k27/src/main/webapp/front/pages/kanwu/list.vue?7614","webpack:///D:/创业/0211/微信小程序的英语学习激励系统/ssm65k27/src/main/webapp/front/pages/kanwu/list.vue?41af","uni-app:///pages/kanwu/list.vue","webpack:///D:/创业/0211/微信小程序的英语学习激励系统/ssm65k27/src/main/webapp/front/pages/kanwu/list.vue?14da","webpack:///D:/创业/0211/微信小程序的英语学习激励系统/ssm65k27/src/main/webapp/front/pages/kanwu/list.vue?71e5"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","tempFilePath","loading","wordResult","mockResult","word","phonetic","meanings","partOfSpeech","definition","example","ossConfig","accessKeyId","accessKeySecret","bucket","region","endpoint","cozeConfig","apiUrl","token","botId","userId","wordInfo","meaning","similar","pronunciation","methods","goBack","uni","delta","chooseImage","count","sizeType","sourceType","success","cancelUpload","base64Encode","chr1","chr2","chr3","enc1","enc2","enc3","enc4","output","chars","uploadToOSS","date","expiration","conditions","url","filePath","name","formData","key","policy","OSSAccessKeyId","signature","success_action_status","resolve","title","icon","reject","fail","computeSignature","hmac","callCozeAPI","method","header","conversation_id","bot_id","user","query","stream","response","responseData","console","result","duration","analyzeImage","imageUrl","type"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,aAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAiH;AACjH;AACwD;AACL;AACa;;;AAGhE;AAC0L;AAC1L,gBAAgB,6KAAU;AAC1B,EAAE,0EAAM;AACR,EAAE,+EAAM;AACR,EAAE,wFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,mFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAotB,CAAgB,8mBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eCmFxuB;EACAC;IACA;MACAC;MAAA;MACAC;MACAC;MAAA;MACA;MACAC;QACAC;QACAC;QACAC,WACA;UACAC;UACAC;UACAC;QACA,GACA;UACAF;UACAC;UACAC;QACA;MAEA;MACAC;QACAC;QACAC;QACAC;QACAC;QAAA;QACAC;MACA;MACAC;QACAC;QACAC;QACAC;QACAC;MACA;MACAC;QACAjB;QACAC;QACAiB;QACAb;QACAc;QACAC;MACA;IACA;EACA;EACAC;IACA;IACAC;MACAC;QACAC;MACA;IACA;IACA;IACAC;MAAA;MACAF;QACAG;QACAC;QACAC;QACAC;UACA;QACA;MACA;IACA;IACA;IACAC;MACA;MACA;IACA;IACA;IACAC;MACA;MACA;MACA;MACA;MAEA;QACAC;QACAC;QACAC;QAEAC;QACAC;QACAC;QACAC;QAEA;UACAD;QACA;UACAC;QACA;QAEAC,kBACAC,0CACAA;MACA;MACA;IACA;IACA;IACAC;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA;gBAAA,iCACA;kBACA;kBACAC;kBACA;oBACAC;oBAAA;oBACAC,aACA;oBAAA;kBAEA;;kBAEA;kBACA;;kBAEA;kBACA;;kBAEA;kBACA;kBAEArB;oBACAsB;oBACAC;oBACAC;oBACAC;sBACAC;sBACAC;sBACAC;sBACAC;sBACAC;oBACA;oBACAxB;sBACA;wBACA;wBACAyB;sBACA;wBACA/B;0BACAgC;0BACAC;wBACA;wBACAC;sBACA;oBACA;oBACAC;sBACAnC;wBACAgC;wBACAC;sBACA;sBACAC;oBACA;kBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACA;IACAE;MACA;MACA;QACA;QACA;QACAC;QACA;MACA;MAEA;IACA;IACA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA;gBAAA,OAEAtC;kBACAsB;kBACAiB;kBACAC;oBACA;oBACA;oBACA;oBACA;oBACA;kBACA;kBACApE;oBACAqE;oBACAC;oBACAC;oBACAC;oBACAC;kBACA;gBACA;cAAA;gBAjBAC;gBAmBAC;gBACAC;gBACAC;gBACAD;;gBAEA;gBAAA,kCAGAC;cAAA;gBAAA;gBAAA;gBAGAD;gBACAhD;kBACAgC;kBACAC;kBACAiB;gBACA;gBAAA,kCACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IACA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACA;gBAAA;gBAAA;gBAAA,OAGA;cAAA;gBAAAC;gBACAJ;;gBAEA;gBAAA;gBAAA,OACA;cAAA;gBAAAC;gBACAD;;gBAEA;gBACA;kBACAvE;kBAAA;kBACAC;kBAAA;kBACA2E;kBAAA;kBACA1D;kBAAA;kBACAb;kBAAA;kBACAc;gBACA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAEAoD;cAAA;gBAAA;gBAEA;gBAAA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;AC7TA;AAAA;AAAA;AAAA;AAAqhC,CAAgB,m2BAAG,EAAC,C;;;;;;;;;;;ACAziC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/kanwu/list.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/kanwu/list.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./list.vue?vue&type=template&id=11136210&\"\nvar renderjs\nimport script from \"./list.vue?vue&type=script&lang=js&\"\nexport * from \"./list.vue?vue&type=script&lang=js&\"\nimport style0 from \"./list.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/kanwu/list.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./list.vue?vue&type=template&id=11136210&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./list.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"container\">\r\n\t\t<!-- 高斯模糊背景 -->\r\n\t\t<view class=\"animated-bg\">\r\n\t\t\t<view class=\"gradient-blob\"></view>\r\n\t\t\t<view class=\"gradient-blob two\"></view>\r\n\t\t\t<view class=\"gradient-blob three\"></view>\r\n\t\t\t<view class=\"gradient-blob four\"></view>\r\n\t\t\t<view class=\"overlay\"></view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 返回按钮 -->\r\n\t\t        <view class=\"back-button\" @tap=\"goBack\">\r\n\t\t            <text class=\"back-icon\">←</text>\r\n\t\t            <text class=\"back-text\">返回</text>\r\n\t\t        </view>\r\n\t\t\r\n\t\t<!-- 头部区域 -->\r\n\t\t<view class=\"header\">\r\n\t\t\t<text class=\"logo-text\">单词识别助手</text>\r\n\t\t\t<text class=\"subtitle\">上传单词图片，快速获取详细释义</text>\r\n\t\t</view>\r\n\r\n\t\t<!-- 上传区域 -->\r\n\t\t<view class=\"upload-section\">\r\n\t\t\t<view class=\"upload-box\" @tap=\"chooseImage\" v-if=\"!tempFilePath\">\r\n\t\t\t\t<text class=\"upload-icon\">📷</text>\r\n\t\t\t\t<text class=\"upload-text\">点击上传单词图片</text>\r\n\t\t\t\t<text class=\"upload-desc\">支持拍照或从相册选择</text>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<view class=\"preview-box\" v-else>\r\n\t\t\t\t<image :src=\"tempFilePath\" mode=\"aspectFit\" class=\"preview-image\"/>\r\n\t\t\t\t<view class=\"action-buttons\">\r\n\t\t\t\t\t<button class=\"action-btn cancel\" @tap=\"cancelUpload\">取消</button>\r\n\t\t\t\t\t<button class=\"action-btn confirm\" @tap=\"analyzeImage\">识别</button>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<!-- 加载状态 -->\r\n\t\t<view class=\"loading-state\" v-if=\"loading\">\r\n\t\t\t<view class=\"pulse-loader\">\r\n\t\t\t\t<view class=\"pulse\"></view>\r\n\t\t\t\t<view class=\"pulse\"></view>\r\n\t\t\t\t<view class=\"pulse\"></view>\r\n\t\t\t</view>\r\n\t\t\t<text class=\"loading-text\">正在识别中...</text>\r\n\t\t</view>\r\n\r\n\t\t<!-- 只有当有单词数据时才显示结果区域 -->\r\n\t\t<div class=\"word-info\" v-if=\"wordInfo.word\">\r\n      <div class=\"word-header\">\r\n        <text class=\"word\">{{ wordInfo.word }}</text>\r\n        <text class=\"phonetic\">{{ wordInfo.phonetic }}</text>\r\n      </div>\r\n      \r\n      <div class=\"word-content\">\r\n        <div class=\"item\">\r\n          <text class=\"label\">词性：</text>\r\n          <text>{{ wordInfo.type }}</text>\r\n        </div>\r\n        \r\n        <div class=\"item\">\r\n          <text class=\"label\">中文含义：</text>\r\n          <text>{{ wordInfo.meaning }}</text>\r\n        </div>\r\n        \r\n        <div class=\"item\">\r\n          <text class=\"label\">例句：</text>\r\n          <text>{{ wordInfo.example }}</text>\r\n        </div>\r\n        \r\n        <div class=\"item\">\r\n          <text class=\"label\">相关词汇：</text>\r\n          <text>{{ wordInfo.similar }}</text>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\ttempFilePath: '', // 临时图片路径\r\n\t\t\t\tloading: false,\r\n\t\t\t\twordResult: null, // 模拟的识别结果\r\n\t\t\t\t// 模拟数据\r\n\t\t\t\tmockResult: {\r\n\t\t\t\t\tword: \"Happiness\",\r\n\t\t\t\t\tphonetic: \"ˈhæpinəs\",\r\n\t\t\t\t\tmeanings: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tpartOfSpeech: \"名词\",\r\n\t\t\t\t\t\t\tdefinition: \"幸福；快乐；愉快；幸福感\",\r\n\t\t\t\t\t\t\texample: \"Money doesn't buy happiness.\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tpartOfSpeech: \"名词\",\r\n\t\t\t\t\t\t\tdefinition: \"适当；恰当；正确\",\r\n\t\t\t\t\t\t\texample: \"She questioned the happiness of his choice of words.\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t},\r\n\t\t\t\tossConfig: {\r\n\t\t\t\t\taccessKeyId: 'LTAI5tPhLjHJX9rha2oHU5bi',\r\n\t\t\t\t\taccessKeySecret: 'nlBaum32RYwDhxbHbRF6APCoLxyH6L',\r\n\t\t\t\t\tbucket: 'kevinyang',\r\n\t\t\t\t\tregion: 'oss-cn-shenzhen.aliyuncs.com', // 根据你的实际地区修改\r\n\t\t\t\t\tendpoint: 'https://kevinyang.oss-cn-shenzhen.aliyuncs.com',\r\n\t\t\t\t},\r\n\t\t\t\tcozeConfig: {\r\n            \t\tapiUrl: 'https://api.coze.cn/open_api/v2/chat',\r\n            \t\ttoken: 'pat_tUzMkWzqahm3OG3ZkRhs7IV4fgCX5EZskndtWO38qbTxZ7lEE6JFu3UqIiqH8ajw',\r\n            \t\tbotId: '7476064956673294345',\r\n            \t\tuserId: '29032201862555'\r\n        \t\t},\r\n\t\t\t\twordInfo: {\r\n\t\t\t\t\tword: '',\r\n\t\t\t\t\tphonetic: '',\r\n\t\t\t\t\tmeaning: '',\r\n\t\t\t\t\texample: '',\r\n\t\t\t\t\tsimilar: '',\r\n\t\t\t\t\tpronunciation: ''\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 返回上一页\r\n\t\t\t        goBack() {\r\n\t\t\t            uni.navigateBack({\r\n\t\t\t                delta: 1 // 返回的页面层数，1 表示返回上一页\r\n\t\t\t            });\r\n\t\t\t        },\r\n\t\t\t// 选择图片\r\n\t\t\tchooseImage() {\r\n\t\t\t\tuni.chooseImage({\r\n\t\t\t\t\tcount: 1,\r\n\t\t\t\t\tsizeType: ['compressed'],\r\n\t\t\t\t\tsourceType: ['album', 'camera'],\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tthis.tempFilePath = res.tempFilePaths[0];\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 取消上传\r\n\t\t\tcancelUpload() {\r\n\t\t\t\tthis.tempFilePath = '';\r\n\t\t\t\tthis.wordResult = null;\r\n\t\t\t},\r\n\t\t\t// Base64编码函数\r\n\t\t\tbase64Encode(str) {\r\n\t\t\t\tconst chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\r\n\t\t\t\tlet output = '';\r\n\t\t\t\tlet chr1, chr2, chr3, enc1, enc2, enc3, enc4;\r\n\t\t\t\tlet i = 0;\r\n\t\t\t\t\r\n\t\t\t\twhile (i < str.length) {\r\n\t\t\t\t\tchr1 = str.charCodeAt(i++);\r\n\t\t\t\t\tchr2 = str.charCodeAt(i++);\r\n\t\t\t\t\tchr3 = str.charCodeAt(i++);\r\n\t\t\t\t\t\r\n\t\t\t\t\tenc1 = chr1 >> 2;\r\n\t\t\t\t\tenc2 = ((chr1 & 3) << 4) | (chr2 >> 4);\r\n\t\t\t\t\tenc3 = ((chr2 & 15) << 2) | (chr3 >> 6);\r\n\t\t\t\t\tenc4 = chr3 & 63;\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (isNaN(chr2)) {\r\n\t\t\t\t\t\tenc3 = enc4 = 64;\r\n\t\t\t\t\t} else if (isNaN(chr3)) {\r\n\t\t\t\t\t\tenc4 = 64;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\toutput = output +\r\n\t\t\t\t\t\tchars.charAt(enc1) + chars.charAt(enc2) +\r\n\t\t\t\t\t\tchars.charAt(enc3) + chars.charAt(enc4);\r\n\t\t\t\t}\r\n\t\t\t\treturn output;\r\n\t\t\t},\r\n\t\t\t// 上传到OSS\r\n\t\t\tasync uploadToOSS(filePath) {\r\n\t\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\t\tconst date = new Date();\r\n\t\t\t\t\tdate.setHours(date.getHours() + 1); // 设置policy过期时间为1小时后\r\n\t\t\t\t\tconst policyText = {\r\n\t\t\t\t\t\texpiration: date.toISOString(), // 设置过期时间\r\n\t\t\t\t\t\tconditions: [\r\n\t\t\t\t\t\t\t[\"content-length-range\", 0, 5048576000] // 设置上传文件的大小限制\r\n\t\t\t\t\t\t]\r\n\t\t\t\t\t};\r\n\t\t\t\t\t\r\n\t\t\t\t\t// 生成policy，使用自定义的base64编码函数\r\n\t\t\t\t\tconst policy = this.base64Encode(JSON.stringify(policyText));\r\n\t\t\t\t\t\r\n\t\t\t\t\t// 生成signature\r\n\t\t\t\t\tconst signature = this.computeSignature(policy, this.ossConfig.accessKeySecret);\r\n\t\t\t\t\t\r\n\t\t\t\t\t// 生成文件名\r\n\t\t\t\t\tconst fileName = `word_images/${Date.now()}_${Math.random().toString(36).slice(2)}.jpg`;\r\n\t\t\t\t\t\r\n\t\t\t\t\tuni.uploadFile({\r\n\t\t\t\t\t\turl: this.ossConfig.endpoint,\r\n\t\t\t\t\t\tfilePath: filePath,\r\n\t\t\t\t\t\tname: 'file',\r\n\t\t\t\t\t\tformData: {\r\n\t\t\t\t\t\t\tkey: fileName,\r\n\t\t\t\t\t\t\tpolicy: policy,\r\n\t\t\t\t\t\t\tOSSAccessKeyId: this.ossConfig.accessKeyId,\r\n\t\t\t\t\t\t\tsignature: signature,\r\n\t\t\t\t\t\t\tsuccess_action_status: '200'\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\tif (res.statusCode === 200) {\r\n\t\t\t\t\t\t\t\tconst url = `https://${this.ossConfig.bucket}.${this.ossConfig.region}/${fileName}`;\r\n\t\t\t\t\t\t\t\tresolve(url);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: '上传失败',\r\n\t\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\treject(new Error('上传失败'));\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail: (err) => {\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: '上传失败',\r\n\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\treject(err);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 计算签名\r\n\t\t\tcomputeSignature(policy, accessKeySecret) {\r\n\t\t\t\t// 由于uni-app环境中可能没有crypto-js，这里使用一个简单的方法来计算\r\n\t\t\t\tconst hmac = function(key, str) {\r\n\t\t\t\t\tconst crypto = require('crypto');\r\n\t\t\t\t\tconst hmac = crypto.createHmac('sha1', key);\r\n\t\t\t\t\thmac.update(str);\r\n\t\t\t\t\treturn hmac.digest('base64');\r\n\t\t\t\t};\r\n\t\t\t\t\r\n\t\t\t\treturn hmac(accessKeySecret, policy);\r\n\t\t\t},\r\n\t\t\t// 调用Coze API\r\n\t\t\tasync callCozeAPI(imageUrl) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst response = await uni.request({\r\n\t\t\t\t\t\turl: this.cozeConfig.apiUrl,\r\n\t\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\t\theader: {\r\n\t\t\t\t\t\t\t'Authorization': `Bearer ${this.cozeConfig.token}`,\r\n\t\t\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t\t\t\t'Accept': '*/*',\r\n\t\t\t\t\t\t\t'Host': 'api.coze.cn',\r\n\t\t\t\t\t\t\t'Connection': 'keep-alive'\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\tconversation_id: Date.now().toString(),\r\n\t\t\t\t\t\t\tbot_id: this.cozeConfig.botId,\r\n\t\t\t\t\t\t\tuser: this.cozeConfig.userId,\r\n\t\t\t\t\t\t\tquery: `请识别这张图片中的单词，图片地址是：${imageUrl}`,\r\n\t\t\t\t\t\t\tstream: false\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\t\r\n\t\t\t\t\tconst responseData =  response;\r\n\t\t\t\t\tconsole.log(responseData)\r\n\t\t\t\t\tconst result = JSON.parse(responseData[1].data.messages[1].content);\t\r\n\t\t\t\t\tconsole.log(result)\r\n\r\n\t\t\t\t\t// 根据实际返回数据更新显示\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\treturn result;\r\n\t\t\t\t\t\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.error('Coze API 调用失败:', error);\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: error.message || 'API调用失败',\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\tduration: 3000\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 修改原有的analyzeImage方法\r\n\t\t\tasync analyzeImage() {\r\n\t\t\t\tthis.loading = true;\r\n\t\t\t\ttry {\r\n\t\t\t\t\t// 1. 上传图片到OSS\r\n\t\t\t\t\tconst imageUrl = await this.uploadToOSS(this.tempFilePath);\r\n\t\t\t\t\tconsole.log(imageUrl)\r\n\t\t\t\t\t\r\n\t\t\t\t\t// 2. 调用Coze API\r\n\t\t\t\t\tconst result = await this.callCozeAPI(imageUrl);\r\n\t\t\t\t\tconsole.log(result)\r\n\t\t\t\t\t\r\n\t\t\t\t\t// 3. 处理返回结果\r\n\t\t\t\t\tthis.wordInfo = {\r\n              \t\t\tword: result.out2, // pear\r\n              \t\t\tphonetic: result.yinbiao, // 英/peə(r)/；美/per/\r\n              \t\t\ttype: result.output, // 名词\r\n              \t\t\tmeaning: result.out, // 梨\r\n              \t\t\texample: result.liju, // I like to eat pears.（我喜欢吃梨。）\r\n              \t\t\tsimilar: result.xiangsi // apple（苹果）、banana（香蕉）等，都属于水果类词汇\r\n            \t\t};\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.error('处理失败:', error);\r\n\t\t\t\t} finally {\r\n\t\t\t\t\tthis.loading = false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t.container {\r\n\t\tmin-height: 100vh;\r\n\t\tposition: relative;\r\n\t\toverflow: hidden;\r\n\t\tbackground: #f8f9fa;\r\n\t}\r\n\r\n\t.animated-bg {\r\n\t\tposition: fixed;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\toverflow: hidden;\r\n\t\tz-index: 0;\r\n\t\tbackground: linear-gradient(125deg, #00fff3, #ff00e6);\r\n\t\tanimation: gradientBG 15s ease infinite;\r\n\t}\r\n\r\n\t.gradient-blob {\r\n\t\tposition: absolute;\r\n\t\twidth: 1000rpx;\r\n\t\theight: 1000rpx;\r\n\t\tbackground: linear-gradient(\r\n\t\t\t45deg,\r\n\t\t\trgba(255, 49, 97, 0.5),\r\n\t\t\trgba(255, 97, 162, 0.5)\r\n\t\t);\r\n\t\tborder-radius: 50%;\r\n\t\tfilter: blur(80px);\r\n\t\tanimation: blob-movement 20s infinite linear,\r\n\t\t\t\t   color-shift 10s infinite alternate;\r\n\t\topacity: 0.7;\r\n\t\ttop: -300rpx;\r\n\t\tleft: -300rpx;\r\n\t}\r\n\r\n\t.gradient-blob.two {\r\n\t\tbackground: linear-gradient(\r\n\t\t\t45deg,\r\n\t\t\trgba(67, 206, 162, 0.5),\r\n\t\t\trgba(24, 90, 157, 0.5)\r\n\t\t);\r\n\t\tanimation: blob-movement-2 25s infinite linear,\r\n\t\t\t\t   color-shift-2 12s infinite alternate;\r\n\t\tanimation-delay: -3s;\r\n\t\ttop: 60%;\r\n\t\tleft: 60%;\r\n\t}\r\n\r\n\t.gradient-blob.three {\r\n\t\tbackground: linear-gradient(\r\n\t\t\t45deg,\r\n\t\t\trgba(255, 197, 84, 0.5),\r\n\t\t\trgba(255, 159, 0, 0.5)\r\n\t\t);\r\n\t\tanimation: blob-movement-3 30s infinite linear,\r\n\t\t\t\t   color-shift-3 8s infinite alternate;\r\n\t\tanimation-delay: -5s;\r\n\t\ttop: 40%;\r\n\t\tleft: 30%;\r\n\t}\r\n\r\n\t.gradient-blob.four {\r\n\t\tbackground: linear-gradient(\r\n\t\t\t45deg,\r\n\t\t\trgba(147, 88, 255, 0.5),\r\n\t\t\trgba(19, 123, 255, 0.5)\r\n\t\t);\r\n\t\tanimation: blob-movement-4 28s infinite linear,\r\n\t\t\t\t   color-shift-4 15s infinite alternate;\r\n\t\tanimation-delay: -7s;\r\n\t\ttop: 20%;\r\n\t\tleft: 70%;\r\n\t}\r\n\r\n\t.overlay {\r\n\t\tposition: absolute;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tbottom: 0;\r\n\t\tbackground: rgba(255, 255, 255, 0.2);\r\n\t\tbackdrop-filter: blur(20px);\r\n\t}\r\n\r\n\t@keyframes gradientBG {\r\n\t\t0% {\r\n\t\t\tbackground-position: 0% 50%;\r\n\t\t}\r\n\t\t50% {\r\n\t\t\tbackground-position: 100% 50%;\r\n\t\t}\r\n\t\t100% {\r\n\t\t\tbackground-position: 0% 50%;\r\n\t\t}\r\n\t}\r\n\r\n\t@keyframes blob-movement {\r\n\t\t0% {\r\n\t\t\ttransform: translate(0, 0) scale(1) rotate(0deg);\r\n\t\t}\r\n\t\t33% {\r\n\t\t\ttransform: translate(300rpx, 200rpx) scale(1.2) rotate(120deg);\r\n\t\t}\r\n\t\t66% {\r\n\t\t\ttransform: translate(-200rpx, 400rpx) scale(0.8) rotate(240deg);\r\n\t\t}\r\n\t\t100% {\r\n\t\t\ttransform: translate(0, 0) scale(1) rotate(360deg);\r\n\t\t}\r\n\t}\r\n\r\n\t@keyframes blob-movement-2 {\r\n\t\t0% {\r\n\t\t\ttransform: translate(0, 0) scale(1.1) rotate(0deg);\r\n\t\t}\r\n\t\t33% {\r\n\t\t\ttransform: translate(-250rpx, -300rpx) scale(0.9) rotate(120deg);\r\n\t\t}\r\n\t\t66% {\r\n\t\t\ttransform: translate(300rpx, -200rpx) scale(1.2) rotate(240deg);\r\n\t\t}\r\n\t\t100% {\r\n\t\t\ttransform: translate(0, 0) scale(1.1) rotate(360deg);\r\n\t\t}\r\n\t}\r\n\r\n\t@keyframes blob-movement-3 {\r\n\t\t0% {\r\n\t\t\ttransform: translate(0, 0) scale(0.9) rotate(0deg);\r\n\t\t}\r\n\t\t33% {\r\n\t\t\ttransform: translate(400rpx, -100rpx) scale(1.1) rotate(120deg);\r\n\t\t}\r\n\t\t66% {\r\n\t\t\ttransform: translate(-300rpx, 200rpx) scale(0.8) rotate(240deg);\r\n\t\t}\r\n\t\t100% {\r\n\t\t\ttransform: translate(0, 0) scale(0.9) rotate(360deg);\r\n\t\t}\r\n\t}\r\n\r\n\t@keyframes blob-movement-4 {\r\n\t\t0% {\r\n\t\t\ttransform: translate(0, 0) scale(1) rotate(0deg);\r\n\t\t}\r\n\t\t33% {\r\n\t\t\ttransform: translate(-200rpx, 300rpx) scale(1.1) rotate(120deg);\r\n\t\t}\r\n\t\t66% {\r\n\t\t\ttransform: translate(250rpx, -250rpx) scale(0.9) rotate(240deg);\r\n\t\t}\r\n\t\t100% {\r\n\t\t\ttransform: translate(0, 0) scale(1) rotate(360deg);\r\n\t\t}\r\n\t}\r\n\r\n\t@keyframes color-shift {\r\n\t\t0% {\r\n\t\t\tbackground: linear-gradient(45deg, rgba(255, 49, 97, 0.5), rgba(255, 97, 162, 0.5));\r\n\t\t}\r\n\t\t100% {\r\n\t\t\tbackground: linear-gradient(45deg, rgba(255, 182, 193, 0.5), rgba(255, 20, 147, 0.5));\r\n\t\t}\r\n\t}\r\n\r\n\t@keyframes color-shift-2 {\r\n\t\t0% {\r\n\t\t\tbackground: linear-gradient(45deg, rgba(67, 206, 162, 0.5), rgba(24, 90, 157, 0.5));\r\n\t\t}\r\n\t\t100% {\r\n\t\t\tbackground: linear-gradient(45deg, rgba(0, 255, 255, 0.5), rgba(0, 128, 128, 0.5));\r\n\t\t}\r\n\t}\r\n\r\n\t@keyframes color-shift-3 {\r\n\t\t0% {\r\n\t\t\tbackground: linear-gradient(45deg, rgba(255, 197, 84, 0.5), rgba(255, 159, 0, 0.5));\r\n\t\t}\r\n\t\t100% {\r\n\t\t\tbackground: linear-gradient(45deg, rgba(255, 215, 0, 0.5), rgba(255, 140, 0, 0.5));\r\n\t\t}\r\n\t}\r\n\r\n\t@keyframes color-shift-4 {\r\n\t\t0% {\r\n\t\t\tbackground: linear-gradient(45deg, rgba(147, 88, 255, 0.5), rgba(19, 123, 255, 0.5));\r\n\t\t}\r\n\t\t100% {\r\n\t\t\tbackground: linear-gradient(45deg, rgba(138, 43, 226, 0.5), rgba(65, 105, 225, 0.5));\r\n\t\t}\r\n\t}\r\n\r\n\t/* 头部样式 */\r\n\t.header {\r\n\t\tpadding: 60rpx 40rpx;\r\n\t\ttext-align: center;\r\n\t\tz-index: 1;\r\n\t\tposition: relative;\r\n\t}\r\n\r\n\t.logo-text {\r\n\t\tfont-size: 48rpx;\r\n\t\tcolor: #1a1a1a;\r\n\t\tfont-weight: 600;\r\n\t\tletter-spacing: 2rpx;\r\n\t\ttext-shadow: 0 2px 4px rgba(255, 255, 255, 0.2);\r\n\t}\r\n\r\n\t.subtitle {\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: rgba(0, 0, 0, 0.7);\r\n\t\tmargin-top: 16rpx;\r\n\t\tdisplay: block;\r\n\t}\r\n\r\n\t/* 上传区域样式 */\r\n\t.upload-section {\r\n\t\tpadding: 40rpx;\r\n\t\tz-index: 2;\r\n\t\tposition: relative;\r\n\t}\r\n\r\n\t.upload-box {\r\n\t\tbackground: rgba(255, 255, 255, 0.2);\r\n\t\tbackdrop-filter: blur(20px);\r\n\t\tborder-radius: 20rpx;\r\n\t\tpadding: 60rpx;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\tborder: 2rpx dashed rgba(255, 255, 255, 0.5);\r\n\t}\r\n\r\n\t.upload-icon {\r\n\t\tfont-size: 80rpx;\r\n\t\tmargin-bottom: 20rpx;\r\n\t}\r\n\r\n\t.upload-text {\r\n\t\tfont-size: 32rpx;\r\n\t\tcolor: #333;\r\n\t\tmargin-bottom: 10rpx;\r\n\t}\r\n\r\n\t.upload-desc {\r\n\t\tfont-size: 24rpx;\r\n\t\tcolor: rgba(0, 0, 0, 0.5);\r\n\t}\r\n\r\n\t.preview-box {\r\n\t\twidth: 100%;\r\n\t\tborder-radius: 20rpx;\r\n\t\toverflow: hidden;\r\n\t}\r\n\r\n\t.preview-image {\r\n\t\twidth: 100%;\r\n\t\theight: 400rpx;\r\n\t\tborder-radius: 20rpx;\r\n\t}\r\n\r\n\t.action-buttons {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\tmargin-top: 20rpx;\r\n\t\tgap: 20rpx;\r\n\t}\r\n\r\n\t.action-btn {\r\n\t\tflex: 1;\r\n\t\tpadding: 20rpx;\r\n\t\tborder-radius: 10rpx;\r\n\t\ttext-align: center;\r\n\t\tfont-size: 28rpx;\r\n\t}\r\n\r\n\t.action-btn.cancel {\r\n\t\tbackground: rgba(255, 255, 255, 0.3);\r\n\t\tcolor: #333;\r\n\t}\r\n\r\n\t.action-btn.confirm {\r\n\t\tbackground: linear-gradient(135deg, #7C3AED, #3B82F6);\r\n\t\tcolor: #fff;\r\n\t}\r\n\r\n\t.word-text {\r\n\t\tfont-size: 40rpx;\r\n\t\tfont-weight: bold;\r\n\t\tcolor: #333;\r\n\t}\r\n\r\n\t.phonetic {\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: rgba(0, 0, 0, 0.6);\r\n\t\tmargin-left: 20rpx;\r\n\t}\r\n\r\n\t.meanings {\r\n\t\tmargin-top: 30rpx;\r\n\t}\r\n\r\n\t.meaning-item {\r\n\t\tmargin-bottom: 20rpx;\r\n\t}\r\n\r\n\t.pos {\r\n\t\tfont-size: 26rpx;\r\n\t\tcolor: #666;\r\n\t\tbackground: rgba(0, 0, 0, 0.1);\r\n\t\tpadding: 4rpx 12rpx;\r\n\t\tborder-radius: 6rpx;\r\n\t\tmargin-right: 10rpx;\r\n\t}\r\n\r\n\t.definition {\r\n\t\tfont-size: 30rpx;\r\n\t\tcolor: #333;\r\n\t\tdisplay: block;\r\n\t\tmargin: 10rpx 0;\r\n\t}\r\n\r\n\t.example {\r\n\t\tfont-size: 26rpx;\r\n\t\tcolor: #666;\r\n\t\tdisplay: block;\r\n\t\tfont-style: italic;\r\n\t}\r\n\r\n\t/* 加载动画 */\r\n\t.loading-state {\r\n\t\tpadding: 60rpx;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.pulse-loader {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\tgap: 12rpx;\r\n\t}\r\n\r\n\t.pulse {\r\n\t\twidth: 16rpx;\r\n\t\theight: 16rpx;\r\n\t\tbackground: #fff;\r\n\t\tborder-radius: 50%;\r\n\t\tanimation: pulse 1.5s infinite ease-in-out;\r\n\t}\r\n\r\n\t.pulse:nth-child(2) { animation-delay: 0.2s; }\r\n\t.pulse:nth-child(3) { animation-delay: 0.4s; }\r\n\r\n\t@keyframes pulse {\r\n\t\t0%, 100% { transform: scale(0.5); opacity: 0.2; }\r\n\t\t50% { transform: scale(1); opacity: 1; }\r\n\t}\r\n\r\n\t.loading-text {\r\n\t\tcolor: rgba(255,255,255,0.7);\r\n\t\tfont-size: 28rpx;\r\n\t\tmargin-top: 20rpx;\r\n\t\tdisplay: block;\r\n\t}\r\n\r\n\t/* 结果卡片 */\r\n\t.result-wrapper {\r\n\t\tpadding: 40rpx;\r\n\t}\r\n\r\n\t.result-card {\r\n\t\tbackground: rgba(255, 255, 255, 0.2);\r\n\t\tbackdrop-filter: blur(15px);\r\n\t\tborder-radius: 20rpx;\r\n\t\tpadding: 30rpx;\r\n\t\tborder: 1px solid rgba(255, 255, 255, 0.3);\r\n\t\tanimation: slideUp 0.3s ease;\r\n\t}\r\n\r\n\t.result-header {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t\tmargin-bottom: 20rpx;\r\n\t}\r\n\r\n\t.back-button {\r\n\t    position: fixed;\r\n\t    top: 40rpx;\r\n\t    left: 20rpx;\r\n\t    display: flex;\r\n\t    align-items: center;\r\n\t    padding: 10rpx 20rpx;\r\n\t    background: rgba(255, 255, 255, 0.8);\r\n\t    border-radius: 50rpx;\r\n\t    backdrop-filter: blur(10px);\r\n\t    z-index: 999;\r\n\t    box-shadow: 0 2rpx 10rpx rgba(0, 0, 0, 0.1);\r\n\t}\r\n\t\r\n\t.back-icon {\r\n\t    font-size: 36rpx;\r\n\t    margin-right: 10rpx;\r\n\t    color: #333;\r\n\t}\r\n\t\r\n\t.back-text {\r\n\t    font-size: 28rpx;\r\n\t    color: #333;\r\n\t}\r\n\r\n\t.word-info {\r\n\t\tpadding: 20px;\r\n\t}\r\n\r\n\t.word-header {\r\n\t\tmargin-bottom: 20px;\r\n\t}\r\n\r\n\t.word {\r\n\t\tfont-size: 24px;\r\n\t\tfont-weight: bold;\r\n\t\tmargin-right: 10px;\r\n\t}\r\n\r\n\t.phonetic {\r\n\t\tcolor: #666;\r\n\t}\r\n\r\n\t.item {\r\n\t\tmargin-bottom: 15px;\r\n\t}\r\n\r\n\t.label {\r\n\t\tcolor: #333;\r\n\t\tfont-weight: bold;\r\n\t\tmargin-right: 10px;\r\n\t}\r\n</style>\r\n","import mod from \"-!../../../../../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./list.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./list.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1740659654031\n      var cssReload = require(\"D:/迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}